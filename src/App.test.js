import { getNoteName, getTupletCount, getTrillsCount, getGraceCount, getUniqueChordsLevel, getTempLevel, getLevel } from './utils/analizer';

const measureWithTuplets = JSON.parse('{"$":{"number":"2","width":"258.54"},"note":[{"$":{"default-x":"12.00","default-y":"-20.00","color":"#3366FF"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["4"]}],"duration":["24"],"voice":["1"],"type":["quarter"],"stem":["down"],"staff":["1"]},{"$":{"default-x":"72.10","default-y":"-25.00","color":"#3366FF"},"pitch":[{"step":["A"],"octave":["4"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}],"notations":[{"tuplet":[{"$":{"type":"start","bracket":"no"}}]}]},{"$":{"default-x":"102.91","default-y":"-20.00","color":"#3366FF"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["4"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"133.72","default-y":"-15.00","color":"#3366FF"},"pitch":[{"step":["C"],"octave":["5"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}}],"notations":[{"tuplet":[{"$":{"type":"stop"}}]}]},{"$":{"default-x":"164.52","default-y":"-15.00","color":"#3366FF"},"pitch":[{"step":["C"],"octave":["5"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}],"notations":[{"tuplet":[{"$":{"type":"start","bracket":"no"}}]}]},{"$":{"default-x":"195.33","default-y":"-10.00","color":"#3366FF"},"pitch":[{"step":["D"],"octave":["5"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"226.14","default-y":"-5.00","color":"#3366FF"},"pitch":[{"step":["E"],"alter":["-1"],"octave":["5"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}}],"notations":[{"tuplet":[{"$":{"type":"stop"}}]}]},{"$":{"default-x":"12.00","default-y":"-150.00","color":"#3366FF"},"pitch":[{"step":["F"],"octave":["2"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["up"],"staff":["2"]},{"$":{"default-x":"72.10","default-y":"-115.00","color":"#3366FF"},"pitch":[{"step":["F"],"octave":["3"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"164.52","default-y":"-115.00","color":"#3366FF"},"pitch":[{"step":["F"],"octave":["3"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]}],"backup":[{"duration":["72"]}]}');
const measureWithTrill = JSON.parse('{"$":{"number":"7","width":"237.73"},"note":[{"$":{"default-x":"12.00","default-y":"-25.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["4"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}],"notations":[{"tuplet":[{"$":{"type":"start","bracket":"no"}}]}]},{"$":{"default-x":"43.23","default-y":"-15.00","color":"#330000"},"pitch":[{"step":["C"],"octave":["5"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"74.46","default-y":"0.00","color":"#330000"},"pitch":[{"step":["F"],"octave":["5"]}],"duration":["8"],"voice":["1"],"type":["eighth"],"time-modification":[{"actual-notes":["3"],"normal-notes":["2"]}],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}}],"notations":[{"tuplet":[{"$":{"type":"stop"}}]}]},{"$":{"default-x":"105.69","default-y":"-35.00","color":"#330000"},"pitch":[{"step":["F"],"octave":["4"]}],"duration":["24"],"voice":["1"],"type":["quarter"],"stem":["up"],"staff":["1"]},{"$":{"default-x":"152.99","default-y":"-30.00","color":"#330000"},"pitch":[{"step":["G"],"octave":["4"]}],"duration":["18"],"voice":["1"],"type":["eighth"],"dot":[""],"stem":["up"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}],"notations":[{"ornaments":[{"trill-mark":[""]}]}]},{"$":{"default-x":"196.08","default-y":"-35.00","color":"#330000"},"pitch":[{"step":["F"],"octave":["4"]}],"duration":["3"],"voice":["1"],"type":["32nd"],"stem":["up"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}},{"_":"begin","$":{"number":"3"}}]},{"$":{"default-x":"212.97","default-y":"-30.00","color":"#330000"},"pitch":[{"step":["G"],"octave":["4"]}],"duration":["3"],"voice":["1"],"type":["32nd"],"stem":["up"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}},{"_":"end","$":{"number":"3"}}]},{"$":{"default-x":"12.00","default-y":"-115.00","color":"#330000"},"pitch":[{"step":["F"],"octave":["3"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"105.69","default-y":"-95.00","color":"#330000"},"pitch":[{"step":["C"],"octave":["4"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"152.99","default-y":"-130.00","color":"#330000"},"pitch":[{"step":["C"],"octave":["3"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["up"],"staff":["2"]}],"backup":[{"duration":["72"]}]}');
const measureWithMultiGraces = JSON.parse('{"$":{"number":"10","width":"436.06"},"print":[{"$":{"new-system":"yes"},"system-layout":[{"system-margins":[{"left-margin":["21.00"],"right-margin":["0.00"]}],"system-distance":["112.23"]}],"staff-layout":[{"$":{"number":"2"},"staff-distance":["65.00"]}]}],"note":[{"$":{"default-x":"89.02","default-y":"-20.00","color":"#CC0000"},"grace":[{"$":{"slash":"yes"}}],"pitch":[{"step":["B"],"octave":["4"]}],"voice":["1"],"type":["eighth"],"stem":["up"],"staff":["1"]},{"$":{"default-x":"107.46","default-y":"-15.00","color":"#CC0000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"144.99","default-y":"-10.00","color":"#CC0000"},"pitch":[{"step":["D"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"182.52","default-y":"-5.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"220.05","default-y":"20.00","color":"#CC0000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["6"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"257.58","default-y":"15.00","color":"#CC0000"},"pitch":[{"step":["B"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"295.11","default-y":"-5.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"312.53","default-y":"15.00","color":"#CC0000"},"grace":[""],"pitch":[{"step":["B"],"octave":["5"]}],"voice":["1"],"type":["16th"],"stem":["up"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}],"notations":[{"slur":[{"$":{"type":"start","number":"1"}}]}]},{"$":{"default-x":"330.90","default-y":"20.00","color":"#CC0000"},"grace":[""],"pitch":[{"step":["C"],"alter":["1"],"octave":["6"]}],"voice":["1"],"type":["16th"],"stem":["up"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"350.01","default-y":"15.00","color":"#CC0000"},"pitch":[{"step":["B"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}],"notations":[{"slur":[{"$":{"type":"stop","number":"1"}}]}]},{"$":{"default-x":"387.54","default-y":"10.00","color":"#CC0000"},"pitch":[{"step":["A"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}]},{"$":{"default-x":"411.00","default-y":"5.00","color":"#CC0000"},"pitch":[{"step":["G"],"alter":["1"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"107.46","default-y":"-140.00","color":"#CC0000"},"pitch":[{"step":["A"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"144.99","default-y":"-120.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"182.52","default-y":"-95.00","color":"#CC0000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["4"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"220.05","default-y":"-140.00","color":"#CC0000"},"pitch":[{"step":["A"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"257.58","default-y":"-120.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"295.11","default-y":"-100.00","color":"#CC0000"},"pitch":[{"step":["B"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"350.01","default-y":"-85.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["4"]}],"duration":["8"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]}],"backup":[{"duration":["32"]}]}');
const measureWithGrace = JSON.parse('{"$":{"number":"6","width":"296.59"},"print":[{"$":{"new-system":"yes"},"system-layout":[{"system-margins":[{"left-margin":["21.00"],"right-margin":["0.00"]}],"system-distance":["112.23"]}],"staff-layout":[{"$":{"number":"2"},"staff-distance":["65.00"]}]}],"note":[{"$":{"default-x":"89.02","default-y":"-20.00","color":"#CC0000"},"grace":[{"$":{"slash":"yes"}}],"pitch":[{"step":["B"],"octave":["4"]}],"voice":["1"],"type":["eighth"],"stem":["up"],"staff":["1"]},{"$":{"default-x":"107.46","default-y":"-15.00","color":"#CC0000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"128.70","default-y":"-10.00","color":"#CC0000"},"pitch":[{"step":["D"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"149.95","default-y":"-25.00","color":"#CC0000"},"pitch":[{"step":["A"],"octave":["4"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"149.95","default-y":"-5.00","color":"#CC0000"},"chord":[""],"pitch":[{"step":["E"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"]},{"$":{"default-x":"171.19","default-y":"-15.00","color":"#CC0000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["5"]}],"duration":["4"],"voice":["1"],"type":["eighth"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"192.43","default-y":"-30.00","color":"#CC0000"},"pitch":[{"step":["G"],"alter":["1"],"octave":["4"]}],"duration":["12"],"voice":["1"],"type":["quarter"],"dot":[""],"stem":["up"],"staff":["1"]},{"$":{"default-x":"192.43","default-y":"-20.00","color":"#CC0000"},"chord":[""],"pitch":[{"step":["B"],"octave":["4"]}],"duration":["12"],"voice":["1"],"type":["quarter"],"dot":[""],"stem":["up"],"staff":["1"]},{"$":{"default-x":"256.16","default-y":"-25.00","color":"#CC0000"},"pitch":[{"step":["A"],"octave":["4"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["up"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}]},{"$":{"default-x":"271.83","default-y":"-30.00","color":"#CC0000"},"pitch":[{"step":["G"],"alter":["1"],"octave":["4"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["up"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"107.46","default-y":"-140.00","color":"#CC0000"},"pitch":[{"step":["A"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["up"],"staff":["2"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"128.70","default-y":"-120.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["up"],"staff":["2"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"149.95","default-y":"-95.00","color":"#CC0000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["4"]}],"duration":["8"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"192.43","default-y":"-120.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"213.68","default-y":"-100.00","color":"#CC0000"},"pitch":[{"step":["B"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"234.92","default-y":"-85.00","color":"#CC0000"},"pitch":[{"step":["E"],"octave":["4"]}],"duration":["8"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]}],"backup":[{"duration":["32"]}]}');
const measureNoChords = JSON.parse('{"$":{"number":"1","width":"294.03"},"print":[{"system-layout":[{"system-margins":[{"left-margin":["21.00"],"right-margin":["0.00"]}],"top-system-distance":["238.17"]}],"staff-layout":[{"$":{"number":"2"},"staff-distance":["65.00"]}]}],"attributes":[{"divisions":["24"],"key":[{"fifths":["-2"]}],"time":[{"beats":["3"],"beat-type":["4"]}],"staves":["2"],"clef":[{"$":{"number":"1"},"sign":["G"],"line":["2"]},{"$":{"number":"2"},"sign":["F"],"line":["4"]}]}],"direction":[{"$":{"placement":"above"},"direction-type":[{"metronome":[{"$":{"parentheses":"no"},"beat-unit":["quarter"],"per-minute":["96"]}]}],"staff":["1"],"sound":[{"$":{"tempo":"96"}}]}],"note":[{"$":{"default-x":"96.46","default-y":"-55.00","color":"#66CC66"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["3"]}],"duration":["24"],"voice":["1"],"type":["quarter"],"stem":["up"],"staff":["1"]},{"$":{"default-x":"152.45","default-y":"-20.00","color":"#66CC66"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["4"]}],"duration":["24"],"voice":["1"],"type":["quarter"],"stem":["down"],"staff":["1"]},{"$":{"default-x":"222.44","default-y":"-20.00","color":"#66CC66"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["4"]}],"duration":["24"],"voice":["1"],"type":["quarter"],"stem":["down"],"staff":["1"]},{"$":{"default-x":"96.46","default-y":"-135.00","color":"#66CC66"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["2"]}],"duration":["36"],"voice":["5"],"type":["quarter"],"dot":[""],"stem":["up"],"staff":["2"]},{"$":{"default-x":"187.45","default-y":"-115.00","color":"#66CC66"},"pitch":[{"step":["F"],"octave":["3"]}],"duration":["12"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"222.44","default-y":"-125.00","color":"#66CC66"},"pitch":[{"step":["D"],"octave":["3"]}],"duration":["12"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"257.44","default-y":"-135.00","color":"#66CC66"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["2"]}],"duration":["12"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"end","$":{"number":"1"}}]}],"backup":[{"duration":["72"]}]}');
const measureTwoHardChords = JSON.parse('{"$":{"number":"10","width":"170"},"note":[{"$":{"default-x":"22","color":"#CC0000"},"pitch":[{"step":["D"],"octave":["5"]}],"duration":["96"],"voice":["1"],"type":["quarter"],"stem":[{"_":"down","$":{"default-y":"-45.5"}}],"staff":["1"]},{"$":{"default-x":"44","color":"#CC0000"},"grace":[{"$":{"slash":"yes"}}],"pitch":[{"step":["B"],"alter":["-1"],"octave":["4"]}],"voice":["1"],"type":["eighth"],"stem":[{"_":"up","$":{"default-y":"2"}}],"staff":["1"],"notations":[{"slur":[{"$":{"bezier-x":"0","bezier-y":"13","default-x":"7","default-y":"5","number":"1","placement":"above","type":"start"}}]}]},{"$":{"default-x":"69","color":"#CC0000"},"pitch":[{"step":["B"],"alter":["-1"],"octave":["5"]}],"duration":["144"],"voice":["1"],"type":["quarter"],"dot":[""],"stem":[{"_":"down","$":{"default-y":"-20.5"}}],"staff":["1"],"notations":[{"slur":[{"$":{"bezier-x":"-12","bezier-y":"4","default-x":"2","default-y":"20","number":"1","type":"stop"}}]}]},{"$":{"default-x":"128","color":"#CC0000"},"pitch":[{"step":["D"],"octave":["5"]}],"duration":["48"],"voice":["1"],"type":["eighth"],"stem":[{"_":"down","$":{"default-y":"-45.5"}}],"staff":["1"],"notations":[{"slur":[{"$":{"bezier-x":"7","bezier-y":"16","default-x":"4","default-y":"-2","number":"1","placement":"above","type":"start"}},{"$":{"bezier-x":"-12","bezier-y":"11","default-x":"41","default-y":"5","number":"1","type":"continue"}}]}]},{"$":{"default-x":"10","color":"#CC0000"},"pitch":[{"step":["E"],"alter":["-1"],"octave":["3"]}],"duration":["96"],"voice":["3"],"type":["quarter"],"stem":[{"_":"down","$":{"default-y":"-50.5"}}],"staff":["2"]},{"$":{"default-x":"22","color":"#CC0000"},"chord":[""],"pitch":[{"step":["F"],"octave":["3"]}],"duration":["96"],"voice":["3"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"22","color":"#CC0000"},"chord":[""],"pitch":[{"step":["A"],"alter":["-1"],"octave":["3"]}],"duration":["96"],"voice":["3"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"22","color":"#CC0000"},"chord":[""],"pitch":[{"step":["D"],"octave":["4"]}],"duration":["96"],"voice":["3"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"57","color":"#CC0000"},"pitch":[{"step":["E"],"alter":["-1"],"octave":["3"]}],"duration":["144"],"voice":["3"],"type":["quarter"],"dot":[""],"stem":[{"_":"down","$":{"default-y":"-50.5"}}],"staff":["2"]},{"$":{"default-x":"69","color":"#CC0000"},"chord":[""],"pitch":[{"step":["F"],"octave":["3"]}],"duration":["144"],"voice":["3"],"type":["quarter"],"dot":[""],"stem":["down"],"staff":["2"]},{"$":{"default-x":"57","color":"#CC0000"},"chord":[""],"pitch":[{"step":["A"],"alter":["-1"],"octave":["3"]}],"duration":["144"],"voice":["3"],"type":["quarter"],"dot":[""],"stem":["down"],"staff":["2"]},{"$":{"default-x":"69","color":"#CC0000"},"chord":[""],"pitch":[{"step":["B"],"alter":["-1"],"octave":["3"]}],"duration":["144"],"voice":["3"],"type":["quarter"],"dot":[""],"stem":["down"],"staff":["2"]},{"$":{"default-x":"69","color":"#CC0000"},"chord":[""],"pitch":[{"step":["D"],"octave":["4"]}],"duration":["144"],"voice":["3"],"type":["quarter"],"dot":[""],"stem":["down"],"staff":["2"]},{"$":{"default-x":"128","color":"#CC0000"},"pitch":[{"step":["D"],"octave":["4"]}],"duration":["48"],"voice":["3"],"type":["eighth"],"stem":[{"_":"down","$":{"default-y":"-20.5"}}],"staff":["2"],"notations":[{"slur":[{"$":{"bezier-x":"9","bezier-y":"14","default-x":"6","default-y":"23","number":"2","placement":"above","type":"start"}},{"$":{"bezier-x":"-11","bezier-y":"12","default-x":"41","default-y":"25","number":"2","type":"continue"}}]}]}],"direction":[{"$":{"placement":"below"},"direction-type":[{"wedge":[{"$":{"default-y":"-69","spread":"15","type":"diminuendo"}}]}],"offset":["-7"],"staff":["1"]},{"direction-type":[{"wedge":[{"$":{"type":"stop"}}]}],"offset":["-44"],"staff":["1"]},{"$":{"placement":"below"},"direction-type":[{"words":[{"_":"dim.","$":{"default-y":"-73","font-size":"10","font-style":"italic"}}]}],"offset":["-25"],"staff":["1"]}],"backup":[{"duration":["288"]}]}');
const measureEasy = JSON.parse('{"$":{"number":"8","width":"184.57"},"note":[{"$":{"default-x":"12.00","default-y":"-35.00","color":"#66CC66"},"pitch":[{"step":["F"],"octave":["4"]}],"duration":["48"],"voice":["1"],"type":["half"],"stem":["up"],"staff":["1"]},{"rest":[""],"duration":["24"],"voice":["1"],"type":["quarter"],"staff":["1"],"$":{"color":"#66CC66"}},{"$":{"default-x":"12.36","default-y":"-115.00","color":"#66CC66"},"pitch":[{"step":["F"],"octave":["3"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["down"],"staff":["2"]},{"$":{"default-x":"63.39","default-y":"-130.00","color":"#66CC66"},"pitch":[{"step":["C"],"octave":["3"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["up"],"staff":["2"]},{"$":{"default-x":"114.41","default-y":"-150.00","color":"#66CC66"},"pitch":[{"step":["F"],"octave":["2"]}],"duration":["24"],"voice":["5"],"type":["quarter"],"stem":["up"],"staff":["2"]}],"backup":[{"duration":["72"]}],"barline":[{"$":{"location":"right"},"bar-style":["light-heavy"],"repeat":[{"$":{"direction":"backward"}}]}]}');
const measureHard = JSON.parse('{"$":{"number":"30","width":"539.96"},"note":[{"$":{"default-x":"12.00","default-y":"10.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}]},{"$":{"default-x":"41.72","default-y":"15.00","color":"#330000"},"pitch":[{"step":["B"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}}]},{"$":{"default-x":"71.45","default-y":"20.00","color":"#330000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["6"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}}]},{"$":{"default-x":"101.17","default-y":"25.00","color":"#330000"},"pitch":[{"step":["D"],"octave":["6"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"130.89","default-y":"30.00","color":"#330000"},"pitch":[{"step":["E"],"octave":["6"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}]},{"$":{"default-x":"160.62","default-y":"20.00","color":"#330000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["6"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}}]},{"$":{"default-x":"186.03","default-y":"15.00","color":"#330000"},"grace":[""],"pitch":[{"step":["B"],"octave":["5"]}],"voice":["1"],"type":["16th"],"stem":["up"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}],"notations":[{"slur":[{"$":{"type":"start","number":"1"}}]}]},{"$":{"default-x":"204.40","default-y":"20.00","color":"#330000"},"grace":[""],"pitch":[{"step":["C"],"alter":["1"],"octave":["6"]}],"voice":["1"],"type":["16th"],"stem":["up"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"223.51","default-y":"15.00","color":"#330000"},"pitch":[{"step":["B"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}}],"notations":[{"slur":[{"$":{"type":"stop","number":"1"}}]}]},{"$":{"default-x":"253.24","default-y":"10.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"282.96","default-y":"5.00","color":"#330000"},"pitch":[{"step":["G"],"alter":["1"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}]},{"$":{"default-x":"312.68","default-y":"-25.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["4"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}}]},{"$":{"default-x":"342.41","default-y":"-5.00","color":"#330000"},"pitch":[{"step":["E"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}}]},{"$":{"default-x":"372.13","default-y":"-25.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["4"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"401.85","default-y":"10.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"begin","$":{"number":"1"}},{"_":"begin","$":{"number":"2"}}]},{"$":{"default-x":"431.58","default-y":"10.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["5"]}],"duration":["1"],"voice":["1"],"type":["32nd"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}},{"_":"begin","$":{"number":"3"}}]},{"$":{"default-x":"455.24","default-y":"15.00","color":"#330000"},"pitch":[{"step":["B"],"octave":["5"]}],"duration":["1"],"voice":["1"],"type":["32nd"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}},{"_":"end","$":{"number":"3"}}]},{"$":{"default-x":"478.91","default-y":"10.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"continue","$":{"number":"1"}},{"_":"continue","$":{"number":"2"}}]},{"$":{"default-x":"508.63","default-y":"5.00","color":"#330000"},"pitch":[{"step":["G"],"alter":["1"],"octave":["5"]}],"duration":["2"],"voice":["1"],"type":["16th"],"stem":["down"],"staff":["1"],"beam":[{"_":"end","$":{"number":"1"}},{"_":"end","$":{"number":"2"}}]},{"$":{"default-x":"12.00","default-y":"-140.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"71.45","default-y":"-120.00","color":"#330000"},"pitch":[{"step":["E"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"130.89","default-y":"-95.00","color":"#330000"},"pitch":[{"step":["C"],"alter":["1"],"octave":["4"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"223.51","default-y":"-140.00","color":"#330000"},"pitch":[{"step":["A"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["down"],"staff":["2"],"beam":[{"_":"end","$":{"number":"1"}}]},{"$":{"default-x":"282.96","default-y":"-155.00","color":"#330000"},"pitch":[{"step":["E"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["up"],"staff":["2"],"beam":[{"_":"begin","$":{"number":"1"}}]},{"$":{"default-x":"342.41","default-y":"-135.00","color":"#330000"},"pitch":[{"step":["B"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["up"],"staff":["2"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"401.85","default-y":"-110.00","color":"#330000"},"pitch":[{"step":["G"],"alter":["1"],"octave":["3"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["up"],"staff":["2"],"beam":[{"_":"continue","$":{"number":"1"}}]},{"$":{"default-x":"478.91","default-y":"-155.00","color":"#330000"},"pitch":[{"step":["E"],"octave":["2"]}],"duration":["4"],"voice":["5"],"type":["eighth"],"stem":["up"],"staff":["2"],"beam":[{"_":"end","$":{"number":"1"}}]}],"backup":[{"duration":["32"]}]}');

it('check getNoteName without alter', () => {
  expect(getNoteName({ pitch: [{ step: ["B"], octave: ["4"] }] })).toEqual("B4");
  expect(getNoteName({ pitch: [""] })).toEqual("");
  expect(getNoteName({})).toEqual("");
});

it('check getNoteName with alter', () => {
    expect(getNoteName({ pitch: [{ step: ["C"], octave: ["4"], alter: ["-1"] }] })).toEqual("C4-1");
});

it('check tuplets count', () => {
    expect(getTupletCount(measureWithTuplets)).toEqual(2);
});

it('check no tuplets count', () => {
    expect(getTupletCount(measureEasy)).toEqual(0);
});

it('check trills count', () => {
    expect(getTrillsCount(measureWithTrill)).toEqual(1);
});

it('check grace count', () => {
    expect(getGraceCount(measureWithGrace)).toEqual(1);
});

it('check multi grace count', () => {
    expect(getGraceCount(measureWithMultiGraces)).toEqual(2);
});

it('check no chord', () => {
    expect(getUniqueChordsLevel(measureNoChords)).toEqual(0);
});

it('check 2 hard chord', () => {
    expect(getUniqueChordsLevel(measureTwoHardChords)).toEqual(6 + 6 + 5);
});

it('check easy temp level', () => {
    expect(getTempLevel(measureEasy)).toEqual(-6);
});

it('check hard temp level', () => {
    expect(getTempLevel(measureHard)).toEqual(40);
});

it('check getting level 4', () => {
    expect(getLevel(measureHard)).toEqual(4);
});

it('check getting level 3', () => {
    expect(getLevel(measureWithMultiGraces)).toEqual(3);
});

it('check getting level 2', () => {
    expect(getLevel(measureWithTuplets)).toEqual(2);
});

it('check getting level 1', () => {
    expect(getLevel(measureEasy)).toEqual(1);
});
